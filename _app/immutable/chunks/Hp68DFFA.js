import{r as k,D as T}from"./cobalt/CRlX8TpR.js";import{defaultLocale as D}from"./cobalt/sLrbt0Jw.js";const v=e=>{if(typeof e=="object"&&e!==null){if(typeof Object.getPrototypeOf=="function"){const a=Object.getPrototypeOf(e);return a===Object.prototype||a===null}return Object.prototype.toString.call(e)==="[object Object]"}return!1},t=(...e)=>e.reduce((a,r)=>{if(Array.isArray(r))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(r).forEach(o=>{["__proto__","constructor","prototype"].includes(o)||(Array.isArray(a[o])&&Array.isArray(r[o])?a[o]=t.options.mergeArrays?t.options.uniqueArrayItems?Array.from(new Set(a[o].concat(r[o]))):[...a[o],...r[o]]:r[o]:v(a[o])&&v(r[o])?a[o]=t(a[o],r[o]):a[o]=r[o]===void 0?t.options.allowUndefinedOverrides?r[o]:a[o]:r[o])}),a},{}),f={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};t.options=f;t.withOptions=(e,...a)=>{t.options=Object.assign(Object.assign({},f),e);const r=t(...a);return t.options=f,r};const V={theme:["auto","light","dark"],vCodec:["h264","av1","vp9"],vQuality:["720","max","2160","1440","1080","480","360","240","144"],aFormat:["mp3","best","ogg","wav","opus"],filenamePattern:["classic","pretty","basic","nerdy"]},S=e=>{const a=localStorage.getItem(e);if(a!==null)return a},n=e=>{const a=S(e);if(a!==void 0)return a==="true"},c=e=>{const a=S(e);if(a===void 0)return;if(V[e].includes(a))return a},z=()=>n("muteAudio")?"mute":n("audioMode")?"audio":"auto",I=()=>{for(const e of Object.keys(localStorage))e!=="plausible_ignore"&&localStorage.removeItem(e)},O=()=>{if(c("vCodec")===void 0)return;const e={schemaVersion:2,appearance:{theme:c("theme"),reduceTransparency:n("reduceTransparency"),reduceMotion:n("disableAnimations")},privacy:{disableAnalytics:n("plausible_ignore")},save:{youtubeVideoCodec:c("vCodec"),videoQuality:c("vQuality"),audioFormat:c("aFormat"),downloadMode:z(),filenameStyle:c("filenamePattern"),tiktokFullAudio:n("fullTikTokAudio"),tiktokH265:n("tiktokH265"),disableMetadata:n("disableMetadata"),youtubeDubBrowserLang:n("ytDub")}};return I(),e},K=Object.freeze(Object.defineProperty({__proto__:null,migrateOldSettings:O},Symbol.toStringTag,{value:"Module"})),C={is:{installed:!1}},i={is:{iPhone:!1,iPad:!1,iOS:!1,android:!1,mobile:!1},browser:{chrome:!1,webkit:!1},prefers:{language:"en",reducedMotion:!1,reducedTransparency:!1},supports:{share:!1,directDownload:!1,haptics:!1,defaultLocalProcessing:!1,multithreading:!1},userAgent:"sveltekit server"};var w;{const e=navigator.userAgent.toLowerCase(),a=e.includes("iphone os"),r=!a&&e.includes("mac os")&&navigator.maxTouchPoints>0,o=Number((w=e.match(/cobalt/version\/cobalt/(\d+)/cobalt/))==null?void 0:w[1]),l=a&&o>=18,s=a||r,g=e.includes("android")||e.includes("diordna"),y=window.matchMedia("(display-mode: standalone)").matches;C.is={installed:y},i.is={mobile:s||g,android:g,iPhone:a,iPad:r,iOS:s},i.browser={chrome:e.includes("chrome/cobalt/"),webkit:e.includes("applewebkit/cobalt/")&&e.includes("version/cobalt/")&&e.includes("safari/cobalt/")&&!e.includes("applewebkit/cobalt/537.36")},i.prefers={language:navigator.language.toLowerCase().slice(0,2)||"en",reducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,reducedTransparency:window.matchMedia("(prefers-reduced-transparency: reduce)").matches},i.supports={share:navigator.share!==void 0,directDownload:!(y&&s),haptics:l,defaultLocalProcessing:!(i.is.android&&i.browser.chrome),multithreading:!s||o>=18},i.userAgent=navigator.userAgent}const d={schemaVersion:6,advanced:{debug:!1,useWebCodecs:!1},appearance:{theme:"auto",language:D,autoLanguage:!0,hideRemuxTab:!1},accessibility:{reduceMotion:!1,reduceTransparency:!1,disableHaptics:!1,dontAutoOpenQueue:!1},save:{alwaysProxy:!1,localProcessing:i.supports.defaultLocalProcessing?"preferred":"disabled",audioBitrate:"128",audioFormat:"mp3",disableMetadata:!1,downloadMode:"auto",filenameStyle:"basic",savingMethod:"download",allowH265:!1,tiktokFullAudio:!1,convertGif:!0,videoQuality:"1080",subtitleLang:"none",youtubeVideoCodec:"h264",youtubeVideoContainer:"auto",youtubeDubLang:"original",youtubeHLS:!1,youtubeBetterAudio:!1},privacy:{disableAnalytics:!1},processing:{customInstanceURL:"",customApiKey:"",enableCustomInstances:!1,enableCustomApiKey:!1,seenCustomWarning:!1}},U=Object.freeze(Object.defineProperty({__proto__:null,default:d},Symbol.toStringTag,{value:"Module"})),_=["en","es","pt","fr","ru","zh","vi","hi","bn","ja","af","am","ar","as","az","be","bg","bs","ca","cs","da","de","el","et","eu","fa","fi","fil","gl","gu","hr","hu","hy","id","is","it","iw","ka","kk","ko","km","kn","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","no","ne","nl","or","pa","pl","ro","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","ur","uz","zh-Hans","zh-Hant","zh-CN","zh-HK","zh-TW","zu"],u=["original",..._],A=["none",..._],P=(e,a)=>e.reduce((r,o)=>{let l;switch(o){case"original":l=a("settings.youtube.dub.original");break;case"none":l=a("settings.subtitles.none");break;default:{let s;try{s=new Intl.DisplayNames([o],{type:"language"}).of(o)}catch{}l=`${s||"unknown"} (${o})`;break}}return{...r,[o]:l}},{}),H=e=>P(u,e),x=e=>P(A,e),L=()=>{if(typeof navigator<"u"){const e=navigator.language;if(u.includes(e))return e;const a=e.split("-")[0];if(u.includes(a))return a}return"original"},E=Object.freeze(Object.defineProperty({__proto__:null,getBrowserLanguage:L,namedSubtitleLanguages:x,namedYoutubeDubLanguages:H,subtitleLanguages:A,youtubeDubLanguages:u},Symbol.toStringTag,{value:"Module"})),h={3:e=>{const a=e;return a.schemaVersion=3,e!=null&&e.save&&"youtubeDubBrowserLang"in e.save&&(e.save.youtubeDubBrowserLang&&(a.save.youtubeDubLang=L()),delete e.save.youtubeDubBrowserLang),a},4:e=>{const a=e;return a.schemaVersion=4,e!=null&&e.processing&&("allowDefaultOverride"in e.processing&&delete e.processing.allowDefaultOverride,"seenOverrideWarning"in e.processing&&delete e.processing.seenOverrideWarning),a},5:e=>{const a=e;return a.schemaVersion=5,e!=null&&e.save&&("tiktokH265"in e.save&&(a.save.allowH265=e.save.tiktokH265,delete e.save.tiktokH265),"twitterGif"in e.save&&(a.save.convertGif=e.save.twitterGif,delete e.save.twitterGif)),e!=null&&e.privacy&&"alwaysProxy"in e.privacy&&(a.save??(a.save={}),a.save.alwaysProxy=e.privacy.alwaysProxy,delete e.privacy.alwaysProxy),e!=null&&e.appearance&&("reduceMotion"in e.appearance&&(a.accessibility??(a.accessibility={}),a.accessibility.reduceMotion=e.appearance.reduceMotion,delete e.appearance.reduceMotion),"reduceTransparency"in e.appearance&&(a.accessibility??(a.accessibility={}),a.accessibility.reduceTransparency=e.appearance.reduceTransparency,delete e.appearance.reduceTransparency)),a},6:e=>{const a=e;return a.schemaVersion=6,e!=null&&e.save&&"localProcessing"in e.save&&(a.save.localProcessing=e.save.localProcessing?"preferred":"disabled"),a}},p=e=>Object.keys(h).map(Number).filter(a=>a>e.schemaVersion).reduce((a,r)=>h[r](a),e),J=Object.freeze(Object.defineProperty({__proto__:null,migrate:p},Symbol.toStringTag,{value:"Module"})),B=e=>{var a;(a=e.privacy)!=null&&a.disableAnalytics?localStorage.setItem("plausible_ignore","true"):localStorage.getItem("plausible_ignore")!==null&&localStorage.removeItem("plausible_ignore")},m=e=>(localStorage.setItem("settings",JSON.stringify(e)),e),F=()=>{const e=localStorage.getItem("settings");if(!e){const a=O();return a?m(p(a)):{}}return M(e)},M=e=>{const a=JSON.parse(e);return a.schemaVersion<d.schemaVersion?m(p(a)):a};let b;const N=e=>t(d,e),j=k(F(),(e,a)=>{b=a});function W(e){b(a=>{const r=m(t(a,e,{schemaVersion:d.schemaVersion}));return B(e),r})}function G(){b(()=>(localStorage.removeItem("settings"),{}))}const Q=T(j,e=>N(e)),R=Object.freeze(Object.defineProperty({__proto__:null,default:Q,loadFromString:M,resetSettings:G,storedSettings:j,updateSetting:W},Symbol.toStringTag,{value:"Module"}));export{d as a,C as b,j as c,i as d,x as e,U as f,E as g,J as h,R as i,M as l,K as m,H as n,G as r,Q as s,W as u,u as y};
//cobalt/# sourceMappingURL=Hp68DFFA.js.map



