import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{t as w,d as g,H as G,I as K,f as h,p as N,s as v,a as T,g as S}from"../chunks/CRlX8TpR.js";import{p as E,a as m,t as x,l as q,s as A,c as H,b as j,d as M}from"../chunks/BjhNBV7x.js";import{i as D}from"../chunks/Bu8X3Row.js";import{t as z}from"../chunks/sLrbt0Jw.js";import{S as V,a as U}from"../chunks/C7rqYYvV.js";import{e as W,s as P,i as O}from"../chunks/Cs8DRJ3p.js";import{d as X}from"../chunks/Ddzr_Ig4.js";import{createDialog as F}from"../chunks/BrKf4TUx.js";import{validateSettings as Y}from"../chunks/DXEMUMDj.js";import{r as Z,c as tt,l as Q,u as et}from"../chunks/Hp68DFFA.js";import{s as B,a as ot,b as at,I as J}from"../chunks/Bs2323xY.js";import{F as st}from"../chunks/BR8zPmrK.js";import{c as rt}from"../chunks/BB3eo-aZ.js";import{clearFileStorage as nt}from"../chunks/De4dRPKL.js";var it=x("<button><!></button>");function I(i,o){let r=E(o,"id",8),u=E(o,"click",8),t=E(o,"danger",8,!1);var a=it();let e;var l=G(a);B(l,o,"default",{}),K(a),w(d=>{ot(a,"id",r()),e=at(a,1,"button data-button svelte-o58pyj",null,e,d)},[()=>({danger:t()})],g),W("click",a,function(...d){var p;(p=u())==null||p.apply(this,d)}),m(i,a)}function lt(i,o){const r=q(o,["children","$$slots","$$events","$$legacy"]);J(i,A({type:"outline",name:"restore"},()=>r,{iconNode:[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087"}],["path",{d:"M3 4.001v5h5"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}]],children:(t,a)=>{var e=H(),l=h(e);B(l,o,"default",{}),m(t,e)},$$slots:{default:!0}}))}var ct=x("<!> ",1);function dt(i,o){N(o,!1);const[r,u]=j(),t=()=>M(z,"$t",r),a=()=>{F({id:"wipe-confirm",type:"small",icon:"warn-red",title:t()("dialog.reset_settings.title"),bodyText:t()("dialog.reset_settings.body"),buttons:[{text:t()("button.cancel"),main:!1,action:()=>{}},{text:t()("button.reset"),color:"red",main:!0,timeout:2e3,action:()=>Z()}]})};D(),I(i,{id:"reset-settings",click:a,danger:!0,children:(e,l)=>{var d=ct(),p=h(d);lt(p,{});var $=v(p);w(f=>P($,` ${f??""}`),[()=>t()("button.reset")],g),m(e,d)},$$slots:{default:!0}}),T(),u()}function pt(i,o){const r=q(o,["children","$$slots","$$events","$$legacy"]);J(i,A({type:"outline",name:"file-export"},()=>r,{iconNode:[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}],["path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3"}]],children:(t,a)=>{var e=H(),l=h(e);B(l,o,"default",{}),m(t,e)},$$slots:{default:!0}}))}var ut=x("<!> ",1),gt=x("<!> ",1),mt=x('<div class="button-row svelte-ism1gp" id="settings-data-transfer"><!> <!> <!></div>');function $t(i,o){N(o,!1);const[r,u]=j(),t=()=>M(z,"$t",r),a=()=>M(tt,"$storedSettings",r),e=s=>{var b;try{const n=(b=s.result)==null?void 0:b.toString();if(!n)throw t()("error.import.no_data");const c=Q(n);if(!Y(c))throw t()("error.import.invalid");F({id:"import-confirm",type:"small",icon:"warn-red",title:t()("dialog.safety.title"),bodyText:t()("dialog.import.body"),buttons:[{text:t()("button.cancel"),main:!1,action:()=>{}},{text:t()("button.import"),color:"red",main:!0,timeout:5e3,action:()=>et(Q(n))}]})}catch(n){let c=t()("error.import.no_data");n instanceof Error?(console.error("settings import error:",n),c=t()("error.import.unknown",{value:n.message})):typeof n=="string"&&(c=n),F({id:"settings-import-error",type:"small",meowbalt:"error",bodyText:c,buttons:[{text:t()("button.gotit"),main:!0,action:()=>{}}]})}},l=()=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=b=>{var y;const n=b.target,c=new FileReader;c.onload=()=>e(c),((y=n.files)==null?void 0:y.length)===1&&c.readAsText(n.files[0])},s.click()},d=async()=>await X({file:new File([JSON.stringify(a(),null,4)],"settings.json",{type:"application/json"})});D();var p=mt(),$=G(p);I($,{id:"import-settings",click:l,children:(s,b)=>{var n=ut(),c=h(n);st(c,{});var y=v(c);w(R=>P(y,` ${R??""}`),[()=>t()("button.import")],g),m(s,n)},$$slots:{default:!0}});var f=v($,2);{var _=s=>{I(s,{id:"export-settings",click:d,children:(b,n)=>{var c=gt(),y=h(c);pt(y,{});var R=v(y);w(L=>P(R,` ${L??""}`),[()=>t()("button.export")],g),m(b,c)},$$slots:{default:!0}})};O(f,s=>{a().schemaVersion&&s(_)})}var k=v(f,2);{var C=s=>{dt(s,{})};O(k,s=>{a().schemaVersion&&s(C)})}K(p),m(i,p),T(),u()}function ft(i,o){const r=q(o,["children","$$slots","$$events","$$legacy"]);J(i,A({type:"outline",name:"file-shredder"},()=>r,{iconNode:[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}],["path",{d:"M3 12l18 0"}],["path",{d:"M6 16l0 2"}],["path",{d:"M10 16l0 6"}],["path",{d:"M14 16l0 2"}],["path",{d:"M18 16l0 4"}]],children:(t,a)=>{var e=H(),l=h(e);B(l,o,"default",{}),m(t,e)},$$slots:{default:!0}}))}var vt=x("<!> ",1);function ht(i,o){N(o,!1);const[r,u]=j(),t=()=>M(z,"$t",r),a=()=>{F({id:"wipe-confirm",type:"small",icon:"warn-red",title:t()("dialog.clear_cache.title"),bodyText:t()("dialog.clear_cache.body"),buttons:[{text:t()("button.cancel"),main:!1,action:()=>{}},{text:t()("button.clear"),color:"red",main:!0,timeout:2e3,action:async()=>{if(rt(),await nt(),"caches"in window){const e=await caches.keys();await Promise.all(e.map(l=>caches.delete(l)))}}}]})};D(),I(i,{id:"clear-cache",click:a,danger:!0,children:(e,l)=>{var d=vt(),p=h(d);ft(p,{});var $=v(p);w(f=>P($,` ${f??""}`),[()=>t()("button.clear_cache")],g),m(e,d)},$$slots:{default:!0}}),T(),u()}var _t=x("<!> <!> <!>",1);function Ct(i,o){N(o,!1);const[r,u]=j(),t=()=>M(z,"$t",r);D();var a=_t(),e=h(a);const l=g(()=>t()("settings.advanced.debug"));V(e,{sectionId:"debug",get title(){return S(l)},children:(_,k)=>{const C=g(()=>t()("settings.advanced.debug.title")),s=g(()=>t()("settings.advanced.debug.description"));U(_,{settingContext:"advanced",settingId:"debug",get title(){return S(C)},get description(){return S(s)}})},$$slots:{default:!0}});var d=v(e,2);const p=g(()=>t()("settings.advanced.settings_data"));V(d,{sectionId:"settings-data",get title(){return S(p)},children:(_,k)=>{$t(_,{})},$$slots:{default:!0}});var $=v(d,2);const f=g(()=>t()("settings.advanced.local_storage"));V($,{sectionId:"local-storage",get title(){return S(f)},children:(_,k)=>{ht(_,{})},$$slots:{default:!0}}),m(i,a),T(),u()}export{Ct as component};
//# sourceMappingURL=12.BBqxdWzU.js.map
